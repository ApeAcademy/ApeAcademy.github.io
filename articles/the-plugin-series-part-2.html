<!DOCTYPE html>
<!-- saved from url=(0060)https://academy.apeworx.io/articles/the-plugin-series-part-2 -->
<html data-wf-domain="academy.apeworx.io" data-wf-page="621fba8df61b3f1f30594ea8" data-wf-site="61777341073c361859b96860" class="w-mod-js w-mod-ix wf-varela-n4-active wf-inconsolata-n4-active wf-inconsolata-n7-active wf-spacemono-n4-active wf-spacemono-i4-active wf-spacemono-n7-active wf-barlowcondensed-n3-active wf-barlowcondensed-n4-active wf-barlowcondensed-n6-active wf-barlowcondensed-n7-active wf-barlowcondensed-n8-active wf-barlowcondensed-n9-active wf-active"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style>.wf-force-outline-none[tabindex="-1"]:focus{outline:none;}</style><title>ApeWorx Academy</title><meta content="ApeWorx Academy is your guide to building Web3 applications on the Ape Framework" name="description"><meta content="width=device-width, initial-scale=1" name="viewport"><link href="./the-plugin-series-part-2_files/apeworx-academy.0a673c2ea.css" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/" rel="preconnect"><link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin="anonymous"><script src="./the-plugin-series-part-2_files/webfont.js" type="text/javascript"></script><link rel="stylesheet" href="./the-plugin-series-part-2_files/css" media="all"><script type="text/javascript">WebFont.load({  google: {    families: ["Varela:400","Inconsolata:400,700","Space Mono:regular,italic,700","Barlow Condensed:300,regular,600,700,800,900"]  }});</script><script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script><link href="https://assets.website-files.com/61777341073c361859b96860/6227c00b67e9b492a696dc07_Ape_Academy_Favicon.png" rel="shortcut icon" type="image/x-icon"><link href="https://assets.website-files.com/61777341073c361859b96860/639cc79fa0716a375ef773b0_apeWebClip_256.png" rel="apple-touch-icon"><script async="" src="./the-plugin-series-part-2_files/js"></script><script type="text/javascript">window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-4Y6EZ2P3LE', {'anonymize_ip': false});</script><!-- Mom's -->
<script defer="" data-domain="academy.apeworx.io" src="./the-plugin-series-part-2_files/script.js"></script>



<style>
  code {
    background-color:black!important;
    border: 1px solid #999;
    display: block;
    padding: 20px;
    font-size: 1.25vw;
    line-height: 20px;
    border-radius: 5px;
    width: 100%;
    min-width: 100%;
    overflow: visible!important;
}
</style>


<link rel="stylesheet" href="./the-plugin-series-part-2_files/prism-tomorrow.min.css">

<style>
code[class*=language-], pre[class*=language-] {
    
    font-family: Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;
    font-size: 12px;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
    background-color:black;
    color:white;
    
    
    @media (max-width: 767px) { 
    max-width: 700px;
    font-size: 14px;
    }
    
     @media (max-width: 320px) { 
    font-size: 10px;
    max-width: 320px; 
    }
    
    
}
</style>

<style>
pre code {
    background-color: #000;
    border: 1px solid #000;
    display: block;
    padding: 20px;
    width: 100%;
    min-width: 900px;
    color: white;
}
</style>
</head><body><div class="div-block-243"><div class="w-embed"><style>


pre code {
  background-color: #eee;
  border: 1px solid #999;
  display: block;
  padding: 20px;
}

</style></div></div><div data-animation="default" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="navbar-3 w-nav"><div class="container-5 w-container"><a href="https://academy.apeworx.io/" class="navbrand w-nav-brand" aria-label="home"><img src="./the-plugin-series-part-2_files/6224aab0239833413c820c05_academy_logo_1_aArtboard-1.png" loading="lazy" width="295" alt="" srcset="https://assets.website-files.com/61777341073c361859b96860/6224aab0239833413c820c05_academy_logo_1_aArtboard-1-p-500.png 500w, https://assets.website-files.com/61777341073c361859b96860/6224aab0239833413c820c05_academy_logo_1_aArtboard-1-p-800.png 800w, https://assets.website-files.com/61777341073c361859b96860/6224aab0239833413c820c05_academy_logo_1_aArtboard-1-p-1080.png 1080w, https://assets.website-files.com/61777341073c361859b96860/6224aab0239833413c820c05_academy_logo_1_aArtboard-1-p-1600.png 1600w, https://assets.website-files.com/61777341073c361859b96860/6224aab0239833413c820c05_academy_logo_1_aArtboard-1.png 1883w" sizes="(max-width: 479px) 70vw, (max-width: 767px) 285px, 295px" class="image-6"></a><div class="spacxer"></div><nav role="navigation" class="nav-menu-3 w-nav-menu"><a href="https://academy.apeworx.io/new" class="yoyo w-nav-link">WHAT'S NEW</a><a href="https://academy.apeworx.io/getting-started" class="nav-link-6 w-nav-link">GETTING&nbsp;STARTED</a><a href="https://academy.apeworx.io/community-2" class="nav-link-7 w-nav-link">COMMUNITY</a><a href="https://academy.apeworx.io/show" class="nav-link-8 w-nav-link">SHOWCASE</a><a href="https://academy.apeworx.io/tutorials" class="nav-tutorials-link w-nav-link">TUTORIALS</a></nav><div class="menu-button-3 w-nav-button" style="-webkit-user-select: text;" aria-label="menu" role="button" tabindex="0" aria-controls="w-nav-overlay-0" aria-haspopup="menu" aria-expanded="false"><div class="icon-2 w-icon-nav-menu"></div></div></div><div class="w-nav-overlay" data-wf-ignore="" id="w-nav-overlay-0"></div></div><header id="nav" class="sticky-nav"><nav class="container w-container"><a href="https://academy.apeworx.io/articles/the-plugin-series-part-2#" class="link-block-2 w-inline-block"><img src="./the-plugin-series-part-2_files/6224aab0239833413c820c05_academy_logo_1_aArtboard-1.png" loading="lazy" width="150" alt="" srcset="https://assets.website-files.com/61777341073c361859b96860/6224aab0239833413c820c05_academy_logo_1_aArtboard-1-p-500.png 500w, https://assets.website-files.com/61777341073c361859b96860/6224aab0239833413c820c05_academy_logo_1_aArtboard-1-p-800.png 800w, https://assets.website-files.com/61777341073c361859b96860/6224aab0239833413c820c05_academy_logo_1_aArtboard-1-p-1080.png 1080w, https://assets.website-files.com/61777341073c361859b96860/6224aab0239833413c820c05_academy_logo_1_aArtboard-1-p-1600.png 1600w, https://assets.website-files.com/61777341073c361859b96860/6224aab0239833413c820c05_academy_logo_1_aArtboard-1.png 1883w" sizes="100vw" class="image"></a><div class="topspacer"></div><div class="div-block-4"><div class="div-block-5"><a href="https://docs.apeworx.io/ape/stable/" class="link-2">Documentation</a></div><div class="div-block-5"><a href="https://academy.apeworx.io/articles/the-plugin-series-part-2#" class="link-2">Lesson Plans</a></div><div class="div-block-6"><a href="https://academy.apeworx.io/resources" class="link-2">Resources</a></div><div class="div-block-7"><a href="https://academy.apeworx.io/articles/the-plugin-series-part-2#" class="link-2">Support</a></div><div class="div-block-8"><a href="https://academy.apeworx.io/articles/the-plugin-series-part-2#" class="link-2">Videos</a></div></div></nav></header><div class="toppage_side"><div class="div-block-222"><div class="div-block-221"><div class="top-a"><div class="div-block-45"><a href="https://academy.apeworx.io/articles/the-plugin-series-part-2#" class="w-inline-block"><img src="./the-plugin-series-part-2_files/617773981d241830df64122a_apeworx_LOGO 3.png" loading="lazy" alt="" class="image-5"></a><a href="https://academy.apeworx.io/tutorials" class="sidebar-header-links-title">TUTORIALS</a></div><div class="div-block-3"><a href="https://academy.apeworx.io/getting-started" class="link">Getting Started</a></div><div class="div-block-3"><a href="https://academy.apeworx.io/tutorials/accounts" class="link">Accounts</a></div><div class="div-block-3"><a fs-cmsfilter-field="plugins" href="https://academy.apeworx.io/tutorials/plugins" class="link">Plugins</a></div><div class="div-block-3"></div><div class="div-block-3"><a href="https://academy.apeworx.io/tutorials/console" class="link">Console</a></div><div class="div-block-3"></div><div class="div-block-3"></div><div class="div-block-3"><a href="https://academy.apeworx.io/tutorials/tokens" class="link">Tokens</a></div><div class="div-block-3"><a href="https://academy.apeworx.io/tutorials/testing" class="link">Testing Contracts</a></div><div class="div-block-3"><a href="https://academy.apeworx.io/tutorials/deploying-contracts" class="link">Deploying Contracts</a></div></div><h1 class="selecteda">CLONEABLE&nbsp;PROJECTS</h1><div class="div-block-3"></div><div class="div-block-3"><a href="http://academy.apeworx.io/articles/make-an-erc20-token" class="link">ERC20 Token</a></div><div data-hover="false" data-delay="0" class="w-dropdown"><div class="dropdown-toggle w-dropdown-toggle" id="w-dropdown-toggle-0" aria-controls="w-dropdown-list-0" aria-haspopup="menu" aria-expanded="false" role="button" tabindex="0"><div class="w-icon-dropdown-toggle" aria-hidden="true"></div><div class="text-block-38">ERC721 NFT</div></div><nav class="dropdown-list-2 w-dropdown-list" id="w-dropdown-list-0" aria-labelledby="w-dropdown-toggle-0"><a href="http://academy.apeworx.io/articles/erc721-token" class="dropdown-link-4 w-dropdown-link" tabindex="0">ERC721 pt1</a><a href="https://academy.apeworx.io/articles/erc721-part-2" class="dropdown-link-5 w-dropdown-link" tabindex="0">ERC721 pt2</a></nav></div><div class="div-block-3"></div><div class="div-block-3"></div><h1 class="selecteda">Resources</h1><div class="div-block-3"><a href="https://docs.apeworx.io/ape/stable/index.html" class="link">Ape Documentation</a></div><div class="div-block-3"><a href="https://academy.apeworx.io/request" class="link">Request a Tutorial</a></div><div class="div-block-3"><a href="https://academy.apeworx.io/articles/porting-brownie-to-ape" class="link">From Brownie to Ape</a></div><h1 class="selecteda">Submit Project </h1><div class="div-block-3"><a href="https://academy.apeworx.io/articles/the-plugin-series-part-2#" class="link"></a></div><div class="div-block-3"><a href="https://academy.apeworx.io/show" class="link">Submit to Showcase</a></div><div class="div-block-3"></div><h1 class="selecteda">KNOWLEDGE&nbsp;BASE</h1><div class="div-block-3"></div><div class="div-block-3"><a href="https://academy.apeworx.io/community-2" class="link">Community</a></div><div class="div-block-3"><a href="https://academy.apeworx.io/resources" class="link">Community Resources</a></div></div></div></div><div class="main_article_content"><div class="article_title_wrapper"><div class="desc-section"><div style="background-image:url(&quot;https://assets-global.website-files.com/621fba8cefe60d1ddffcb9bf/6357e08d6e544a2666e08c6f_yes2_Plugin-Thumbnail---Series---Ep1.png&quot;)" class="article_div_mainimage"><div id="Canvas" style="background-image:url(&quot;https://assets-global.website-files.com/621fba8cefe60d1ddffcb9bf/6357e08d6e544a2666e08c6f_yes2_Plugin-Thumbnail---Series---Ep1.png&quot;)" class="div-block-13"><div><div class="div-block-15"><div class="div-block-14"></div></div></div><a href="https://academy.apeworx.io/articles/the-plugin-series-part-2#" class="button-3 w-button">Plugins</a><div class="w-embed"><style>

pre code {
  background-color: #eee;
  border: 1px solid #999;
  display: block;
  padding: 20px;
}
</style></div></div></div><div class="article_div_title_a"><div class="article_title_wrapper"><h1 class="cms_title">How To Create A Web3 Provider API Plugin Using Ape Framework</h1></div><div class="div_meta_wrap"><div class="div_written"><div class="text-block-5">written by</div><a href="https://academy.apeworx.io/author/dalena-dang" class="link-3">Dalena Dang</a></div><div class="div_updated"><div class="div_lastupdated"><div class="text-block-19">Date Last Updated </div><div class="text-block-14">October 25, 2022</div></div></div></div><div class="div_meta_wrap_2"><div class="div-block-111"><a href="https://academy.apeworx.io/articles/the-plugin-series-part-2#" class="button-16 w-button">Tutorial</a><a href="https://academy.apeworx.io/articles/the-plugin-series-part-2#" class="button-16 w-button">Project Files</a><a href="https://academy.apeworx.io/articles/the-plugin-series-part-2#" class="button-16 w-button">Video</a></div></div><a href="https://academy.apeworx.io/articles/the-plugin-series-part-2#" class="button_downloadfiles w-condition-invisible w-button">Download Project Files</a></div></div></div><div class="article_video"><div class="description"><div class="cms_description w-richtext"><p>Ape Framework is a modular, dynamic, and easy-to-use set of Python tools that make building Web3 dApps easier. Now that you understand our framework's ecosystem let's customize a plugin. This tutorial will show you how to create a network plugin using Ape.</p></div></div><div id="w-node-f85ea73f-f29f-c3a1-99ff-5e1b553488b8-30594ea8" class="article-video-wrapper"><div style="padding-top:56.20608899297424%" class="video-2 w-video w-embed"><iframe class="embedly-embed" src="./the-plugin-series-part-2_files/media.html" width="854" height="480" scrolling="no" title="YouTube embed" frameborder="0" allow="autoplay; fullscreen" allowfullscreen="true"></iframe></div></div></div><div class="article_div_contenta"><div id="w-node-b769cddb-c407-0f22-8e51-e8672b958c88-30594ea8"><div id="w-node-d507db47-bc13-fd05-c178-7820571549dd-30594ea8" class="cms_content_a w-richtext"><h2>Getting Started Developing Plugins</h2><p>This tutorial will walk you through how to create a plugin using `ape`. Today we will be focusing on developing a provider plugin. Provider plugins with the ApeWorX console to allow users to connect and interface with the blockchain.</p><p>‍</p><p>We will be following the Developing Plugins guide, which you can find in the ApeWorX documentation <a href="https://docs.apeworx.io/ape/stable/userguides/developing_plugins.html">here</a>. </p><p>The initial step is to set up a directory for the project. We will use the ApeWorX <a target="_blank" href="https://github.com/ApeWorX/project-template">project template</a> to initialize this plugin. This example plugin we are developing today will be called LiveNode. We will discuss the methods you need to implement to create a working plugin.</p><p>‍</p><h2>Initializing a Plugin Project</h2><p>To get started, let’s go to the <a href="https://github.com/ApeWorX/project-template">template page</a> and create a fork of the project. Then you can go to your project’s fork and select<strong>&nbsp;Use this Template&nbsp;</strong>to create a new repository. The benefit of setting up the project this way is that Github will know where this template is coming from and display that information, and it will also make it easier to reference in case you need to look back at it for anything.&nbsp;</p><p>‍</p><p>This project template is the standard template that ApeWorX uses when making our plugins, so it includes the `.github` and `.pre-commit-config.yaml` files standard for our workflow. While you do not have to keep and use these for your project, it will make reviewing and creating work at a certain standard easier.</p><p>‍</p><p>The next step is to go ahead and clone the project into our terminal. Then rename the directory MODULE_NAME with the name of the plugin we are creating. We are going to name it `ape_livenode` for this example. The plugin’s name should begin with `ape_` so that the ape console will recognize the directory as a plugin package.</p><p>‍</p><p>Then inside the main project directory, we will search for all instances of `&lt;MODULE_NAME&gt;` in the code and replace it with `ape_livenode`. You can use&nbsp; `CTRL + SHIFT + H` in VSCode to search and replace all. Then you should do the same search for the package name `&lt;PYPI_NAME&gt;` and replace it with `ape-livenode`. The module name uses underscores, while the python package name uses dashes following the PEP guidelines.</p><p>‍</p><p>The `ape_livenode` folder already contains an __init__.py (double underscore) and py.typed file, so you will not have to create it yourself. You will be registering the provider in the init.py file.</p><p>‍</p><p>From there, we will create a file named `provider.py` (since we are making a provider plugin), and this will be where we implement the API classes needed for our plugin.</p><p>‍</p><h2>Implementing API Classes</h2><p>‍</p><p>For the plugin to work properly, you must implement all abstract methods from an API class. However, some mixing classes, such as <a target="_blank" href="https://docs.apeworx.io/ape/stable/methoddocs/api.html#ape.api.providers.Web3Provider">Web3Provider</a>, already implement some of the abstract methods. We can still override these methods, but it allows for shared code across EVM-based provider implementations.</p><p>So let’s go into the `provider.py` file, and we will go through what you must implement to create a general providers plugin.</p><p>‍</p><h4>First, we must import the API class from the `ape.api` namespace.</h4><p>‍</p><div class="w-embed"><pre><code>from ape.api import ProviderAPI</code></pre></div><h4>Then we will create the class for the provider:</h4><div class="w-embed"><pre><code>class LiveNodeProvider(ProviderAPI): </code></pre></div><p>To connect to LiveNode, we will want to implement one of the abstract methods, `connect()`, from the api class.</p><div class="w-embed"><pre><code>class LiveNodeProvider(ProviderAPI):
		_is_connected: bool = False

		def connect(self):
			self._is_connected = True
      </code></pre></div><p>Now let’s implement one more abstract method. Please note that any abstract method that includes `property` will need a property decorator as well before the function. Let’s implement this method `chain_id()`.&nbsp;</p><div class="w-embed"><pre><code>@property
	def chain_id(self) -&gt; int:
		return 50
    </code></pre></div><p>Depending on what the provider needs, we can implement more API methods. You can view all the methods for the API in our docs linked <a target="_blank" href="https://docs.apeworx.io/ape/stable/methoddocs/api.html">here</a>. If there is a missing method, you will see an error message in the terminal telling you what methods you are missing. We will only review some methods because they may differ between big releases. The best way to check what methods you need is to view the documentation for the plugin you are developing.</p><h4>Registering API Classes</h4><p>Once we have implemented the abstract methods, we will need to register the plugin so that the ape console recognizes it.</p><p>We will do this in the __init__.py file (double underscore). We will import plugins from ape to tell the console that this is a plugin for the console, and we will also be importing the plugin that we just created.</p><p>We are going to pretend that LiveNode is a local provider plugin for the Ethereum ecosystem, so we are going to yield “Ethereum”, “local” and `LiveNodeProvider</p><div class="w-embed"><pre><code>From ape import plugins

	From .provider import LiveNodeProvider

	@plugins.register(plugins.ProviderPlugin)
	Def provider():
		Yield “ethereum”, “local”, LiveNodeProvider</code></pre></div><p>To make a mainnet provider plugin, you should yield “mainnet” instead of “local”. Also, if you are making a plugin for a different ecosystem, you should put that ecosystem name instead of “ethereum”.</p><h4><strong>Testing the Plugin</strong></h4><p>Once we have finished implementing and registering the plugin, they can now be a part of ape</p><p>To install the plugin in an editable environment, run `pip install -e .` This will allow us to change the plugin, which we will reflect in the python environment.</p><p>Since we did not implement all the abstract methods for the ProviderAPI class, we will get a warning message showing the methods that still need to be implemented. For now, we will insert these methods with no implementation to test that our plugin works.</p><p>‍</p><h2>Now let’s test our plugin.&nbsp;</h2><p>‍</p><p>Open the ape console using our new provider.</p><div class="w-embed"><pre><code>ape console -network ethereum:local:livenode</code></pre></div><h4>Now let’s check out the chain ID implementation using:&nbsp;</h4><div class="w-embed"><pre><code>networks.active_provider.chain_id</code></pre></div><h4>And make sure that it returns the value from our implementation “50”.</h4><p>‍</p><p>‍</p><h2>Thank you for watching this video. </h2><p>‍</p><p>We hope this has cleared up any questions you may have had about developing plugins. If you have any questions, please feel free to come to our Discord server and ask. We are happy to help you with any questions or problems you may have.</p><p>‍</p><p>‍</p></div></div></div><div class="div_wrap_bottomwrap"><div class="div-block-244"><div class="div-block-107"><a href="https://academy.apeworx.io/submit" class="sib-ot w-button">SUBMIT&nbsp;YOUR&nbsp;PROJECT</a><a href="https://academy.apeworx.io/community-2" class="sib-ot w-button">GET&nbsp;HELP</a><a href="https://academy.apeworx.io/feedback" class="sib-ot w-button">LEAVE&nbsp;FEEDBACK</a><a href="https://github.com/ApeAcademy" class="sib-ot w-button">APE&nbsp;ACADEMY&nbsp;GITHUB</a></div></div><div class="section_ending_a section-7"><div class="div-block-139"><div class="div-block-143"><h1 class="heading-47">Didn’t find what you’re looking for?<br></h1></div><div class="w-layout-grid grid-8"><a id="w-node-c8936289-b19a-0584-9178-ad6ed225959f-30594ea8" href="https://academy.apeworx.io/community-2" class="link-block-14 w-inline-block"><div class="div-block-144"><h4 class="heading-48">Connect with the Communty</h4><div class="text-block-23">Connect with theApe community</div></div></a><a id="w-node-c8936289-b19a-0584-9178-ad6ed22595a5-30594ea8" href="https://academy.apeworx.io/request" class="link-block-14 w-inline-block"><div class="div-block-144"><h4 class="heading-48">Request a Tutorial</h4><div class="text-block-23"> Share or upvote tutorial ideas from the community</div></div></a><a id="w-node-c8936289-b19a-0584-9178-ad6ed22595ab-30594ea8" href="https://academy.apeworx.io/tutorials" class="link-block-14 w-inline-block"><div class="div-block-144"><h4 class="heading-48">View All of Our Tutorials</h4><div class="text-block-23">Find the Tutorial of your dreams</div></div></a></div></div></div></div></div><div data-animation="over-right" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="footernavy w-nav"><div class="div-block-99"><a href="https://www.youtube.com/channel/UCz-cD1gjJnSeP_Z0Bu1h05A" class="ape_footybutton w-button">Academy YouTube</a><a href="https://github.com/ApeAcademy" class="ape_footybutton w-button">Academy GIT</a><a href="https://github.com/ApeWorX" class="ape_footybutton w-button">Ape Git</a><a href="https://docs.apeworx.io/ape/stable/index.html" class="ape_footybutton w-button">Ape Docs</a></div><div class="w-nav-overlay" data-wf-ignore="" id="w-nav-overlay-1"></div></div><script src="./the-plugin-series-part-2_files/jquery-3.5.1.min.dc5e7f18c8.js" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script><script src="./the-plugin-series-part-2_files/apeworx-academy.ef9385886.js" type="text/javascript"></script></body></html>